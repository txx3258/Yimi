<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="http://192.168.11.149:8880/api/Chart.min.js"></script>
    <script type="text/javascript" src="http://192.168.11.149:8880/api/jquery-2.2.0.min.js"></script>
</head>
<body>
  <div id="desc" style="height:50px;left:200px;position:fixed"> 
    <select id="biz_type" style="float:left;margin-left:50px"> 
      <option value="gc">gc</option>
      <option value="perf">perf</option>
      <option value="memcached">memcached</option>
    </select>

    <select id="biz_collections" style="float:left;margin-left:50px">
      <option value="gc_applists">gc_applists</option>
    </select>
    
    <select id="select_date">
      <option value="2017-06-16">2017-06-16</option>
    </select>
  </div>
    <div id="left" style="position:fixed;top:180px;left:10px">left(ms)</div>
    <canvas id="myChart" width="5000" height="600" style="margin-left:40px;margin-top:60px"></canvas>
    <div id="right" style="height:80px;left:600px;position:fixed">2015-09-21</div>
    <script type="text/javascript">
        var ctx = document.getElementById("myChart").getContext("2d");
        var qsData={collectName:"perf_applists",queryName:'{}'};
        var options={
            ///Boolean - Whether grid lines are shown across the chart
            scaleShowGridLines : true,
            //String - Colour of the grid lines
            scaleGridLineColor : "rgba(0,0,0,.05)",
            //Number - Width of the grid lines
            scaleGridLineWidth : 1,
            //Boolean - Whether to show horizontal lines (except X axis)
            scaleShowHorizontalLines: true,
            //Boolean - Whether to show vertical lines (except Y axis)
            scaleShowVerticalLines: true,
            //Boolean - Whether the line is curved between points
            bezierCurve : true,
            //Number - Tension of the bezier curve between points
            bezierCurveTension : 0.4,
            //Boolean - Whether to show a dot for each point
            pointDot : true,
            //Number - Radius of each point dot in pixels
            pointDotRadius : 4,
            //Number - Pixel width of point dot stroke
            pointDotStrokeWidth : 1,
            //Number - amount extra to add to the radius to cater for hit detection outside the drawn point
            pointHitDetectionRadius : 20,
            //Boolean - Whether to show a stroke for datasets
            datasetStroke : true,
            //Number - Pixel width of dataset stroke
            datasetStrokeWidth : 2,
            //Boolean - Whether to fill the dataset with a colour
            datasetFill : true,
            //String - A legend template
            legendTemplate : "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:red\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>"

        };

        $.ajax({
            async:false,
            url: '/api/chart',
            type: "GET",
            dataType: 'json',
            data: qsData,
            success: function (json) {//客户端jquery预先定义好的callback函数,成功获取跨域服务器上的json数据后,会动态执行这个callback函数
               // console.log(json);
               // var rtn=JSON.parse(json);
                var myLineChart = new Chart(ctx).Line(json, options);
            },
            error: function(xhr){
                //jsonp 方式此方法不被触发.原因可能是dataType如果指定为jsonp的话,就已经不是ajax事件了
             }
        });
//        var data={
//            "labels" : ["15:8:53", "15:8:53", "8:53_1", "8:53_2", "8:53_3", "8:53_4", "8:53_5", "15:9:53", "15:9:53", "9:53_1", "9:53_2", "15:21:54", "15:34:55", "15:36:55", "15:36:55", "36:55_1", "15:37:55", "16:12:58", "16:19:58", "16:19:58", "16:49:0", "18:46:7", "18:46:7", "19:29:8", "19:38:9", "20:53:11", "20:53:11", "53:11_1", "53:11_2", "53:11_3", "53:11_4", "0:12:21", "2:7:26", "2:45:28", "7:21:36", "7:41:37", "7:41:37", "8:13:37", "9:49:40", "10:21:41", "11:50:44", "12:1:44", "11:43:53", "12:20:54", "14:16:58", "14:16:58", "16:58_1", "16:58_2", "14:17:58", "14:17:58", "14:25:58", "14:30:58", "14:30:58", "14:33:58", "14:33:58", "14:34:58", "14:35:58", "14:36:58", "14:36:58", "14:38:58", "14:42:58", "14:43:58", "14:43:58", "43:58_1", "14:44:58", "14:45:59", "14:45:59", "14:46:59", "14:46:59", "46:59_1", "46:59_2", "14:47:59", "14:51:59", "14:52:59", "14:52:59", "52:59_1", "15:34:0", "15:34:0", "15:41:0", "15:47:0", "16:1:1", "16:1:1", "16:7:1", "16:14:1", "16:14:1", "16:20:1", "16:27:1", "16:27:1", "16:40:2", "16:40:2", "16:53:2", "16:53:2", "17:0:3", "17:20:3", "17:26:3", "17:33:3", "17:39:3", "17:39:3", "17:41:4", "17:42:4", "17:42:4", "17:43:4", "17:46:4", "18:8:4", "18:12:4", "18:12:4", "18:25:5", "18:25:5", "18:32:5", "18:32:5", "18:45:5", "18:45:5", "9:48:52", "9:48:52", "10:26:57", "10:26:57", "10:27:57", "10:27:57", "10:36:57", "10:36:57", "36:57_1", "36:57_2", "36:57_3", "36:57_4", "36:57_5", "36:57_6", "36:57_7", "36:57_8", "10:37:57", "10:37:57", "37:57_1", "37:57_2", "10:38:57", "10:38:57", "10:39:57", "10:39:57", "39:57_1", "10:41:57", "10:41:57", "11:8:0", "11:9:0", "11:9:0", "11:11:1", "11:11:1", "11:15:1", "11:54:3", "11:54:3", "12:20:6", "12:37:8", "13:13:10", "13:13:10", "13:29:12", "13:37:13", "13:37:13", "13:53:14", "14:5:16", "14:8:16", "14:18:18", "14:25:18", "14:47:21", "14:49:21", "14:49:21", "15:11:23", "15:11:23", "15:42:28", "16:13:30", "16:13:30", "16:19:31", "16:37:33", "16:37:33", "16:55:34", "16:55:34", "17:44:40", "17:50:41"],
//                "datasets" : [{
//            "label" : "",
//            "fillColor" : "rgba(151,187,205,0.2)",
//            "strokeColor" : "rgba(151,187,205,1)",
//            "pointColor" : "rgba(151,187,205,1)",
//            "pointStrokeColor" : "#fff",
//            "pointHighlightFill" : "#fff",
//            "pointHighlightStroke" : "rgba(151,187,205,1)",
//            "data" : ["39", "19", "15", "14", "14", "14", "17", "16", "137", "14", "15", "27", "148", "78", "62", "68", "448", "10", "13", "130", "32", "31", "214", "12", "191", "209", "187", "57", "72", "199", "200", "14", "10", "30", "202", "36", "228", "20", "12", "13", "48", "20", "13", "10", "160", "63", "61", "65", "55", "58", "72", "72", "64", "66", "70", "67", "59", "27", "957", "71", "73", "59", "62", "68", "60", "52", "50", "53", "54", "489", "51", "26", "67", "61", "58", "21", "12", "14", "11", "12", "10", "15", "11", "12", "14", "12", "10", "10", "12", "14", "11", "21", "33", "12", "12", "12", "11", "11", "153", "68", "11", "73", "34", "53", "15", "11", "106", "14", "22", "18", "11", "15", "11", "14", "179", "11", "53", "11", "222", "14", "15", "17", "14", "41", "20", "16", "14", "278", "13", "186", "15", "286", "33", "73", "13", "355", "75", "60", "540", "342", "10", "13", "10", "47", "12", "15", "12", "13", "15", "10", "12", "13", "12", "12", "14", "211", "73", "28", "12", "15", "13", "13", "11", "88", "13", "10", "15", "26", "11", "11", "11", "13", "13", "11"]
//        }
//        ],
//                "left" : "ms",
//                "right" : "",
//                "tip" : ["GET/api/applist", "GET/api/applist", "GET/api/applist", "GET/api/applist", "GET/api/applist", "GET/api/applist", "GET/api/applist", "GET/api/applist", "GET/api/applist", "GET/api/applist", "GET/api/applist", "GET/api/applistfor3rdparty", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/recommender", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/recommender", "GET/api/recommender", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "GET/api/applist", "GET/api/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "GET/api/applist", "POST/remote/applist", "POST/remote/applist", "POST/remote/applist", "GET/api/applist", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/recommender", "GET/api/recommender", "GET/api/appverlist", "GET/api/applistfor3rdparty", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/appverlist", "GET/api/applistfor3rdparty", "GET/api/recommender", "GET/api/recommender", "GET/api/recommender", "GET/api/recommender", "GET/api/appverlist", "POST/remote/applist", "POST/remote/applist", "GET/api/recommender", "POST/remote/applist", "GET/api/applistfor3rdparty", "POST/remote/applist", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/appverlist", "POST/remote/applist", "GET/api/recommender", "GET/api/recommender", "GET/api/recommender", "GET/api/applist4tv", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/applist", "GET/api/applist", "GET/api/appverlist", "GET/api/extoplist", "GET/api/extoplist", "GET/api/extoplist", "GET/api/extoplist", "GET/api/guideapplist", "POST/remote/applist", "GET/api/recommender", "GET/api/recommender", "GET/api/rotateapplist", "POST/remote/applist", "POST/remote/applist", "GET/api/recommender", "GET/api/recommender", "GET/api/recommender", "GET/api/recommender", "GET/api/recommender", "GET/api/recommender", "GET/api/recommender", "GET/api/appverlist", "GET/api/appverlist", "GET/api/recommender", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/recommender", "GET/api/appverlist", "GET/api/applistfor3rdparty", "POST/remote/applist", "POST/remote/applist", "GET/api/recommender", "GET/api/recommender", "GET/api/recommender", "GET/api/recommender", "GET/api/appverlist", "GET/api/applistfor3rdparty", "GET/api/applistfor3rdparty", "GET/api/recommender", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/appverlist", "GET/api/recommender", "GET/api/applistfor3rdparty"],
//                "desc" : "perf_applist"
//        }
//
//        var myLineChart = new Chart(ctx).Line(data, options);
    </script>
</body>
</html>
